{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet DonhangComponent = class DonhangComponent {\n  constructor(orderService) {\n    this.orderService = orderService;\n    this.orders = [];\n    this.filteredOrders = [];\n    this.searchTerm = '';\n    this.newOrder = {};\n    this.selectedOrder = {};\n  }\n  ngOnInit() {\n    this.orderService.getOrders().subscribe(data => {\n      this.orders = data;\n      this.filteredOrders = data;\n    });\n  }\n  search() {\n    this.filteredOrders = this.orders.filter(order => order.customerName.toLowerCase().includes(this.searchTerm.toLowerCase()));\n  }\n  addOrder() {\n    this.orderService.addOrder(this.newOrder).subscribe(data => {\n      this.orders.push(data);\n      this.filteredOrders.push(data);\n      this.newOrder = {};\n      $('#addOrderModal').modal('hide');\n    });\n  }\n  showAddOrderModal() {\n    $('#addOrderModal').modal('show');\n  }\n  showOrderDetailModal(order) {\n    this.selectedOrder = order;\n    $('#orderDetailModal').modal('show');\n  }\n  showEditOrderModal(order) {\n    this.selectedOrder = Object.assign({}, order);\n    $('#editOrderModal').modal('show');\n  }\n  updateOrder() {\n    this.orderService.updateOrder(this.selectedOrder).subscribe(data => {\n      const index = this.orders.findIndex(order => order.id === data.id);\n      this.orders[index] = data;\n      this.filteredOrders[index] = data;\n      this.selectedOrder = {};\n      $('#editOrderModal').modal('hide');\n    });\n  }\n  deleteOrder(order) {\n    if (confirm('Bạn có chắc chắn muốn xóa đơn hàng này?')) {\n      this.orderService.deleteOrder(order.id).subscribe(() => {\n        const index = this.orders.findIndex(o => o.id === order.id);\n        this.orders.splice(index, 1);\n        this.filteredOrders.splice(index, 1);\n      });\n    }\n  }\n};\nDonhangComponent = __decorate([Component({\n  selector: 'app-donhang',\n  templateUrl: './donhang.component.html',\n  styleUrls: ['./donhang.component.css']\n})], DonhangComponent);\nexport { DonhangComponent };","map":{"version":3,"names":["Component","DonhangComponent","constructor","orderService","orders","filteredOrders","searchTerm","newOrder","selectedOrder","ngOnInit","getOrders","subscribe","data","search","filter","order","customerName","toLowerCase","includes","addOrder","push","$","modal","showAddOrderModal","showOrderDetailModal","showEditOrderModal","Object","assign","updateOrder","index","findIndex","id","deleteOrder","confirm","o","splice","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Vinh-PC\\Documents\\angular\\QLDongHo\\my-app\\src\\app\\components\\donhang\\donhang.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { OrderService } from './order.service';\n\n@Component({\n  selector: 'app-donhang',\n  templateUrl: './donhang.component.html',\n  styleUrls: ['./donhang.component.css']\n})\nexport class DonhangComponent {\n  orders: any[] = [];\n  filteredOrders: any[] = [];\n  searchTerm: string = '';\n  newOrder: any = {};\n  selectedOrder: any = {};\n\n  constructor(private orderService: OrderService) { }\n\n  ngOnInit() {\n    this.orderService.getOrders().subscribe((data: any[]) => {\n      this.orders = data;\n      this.filteredOrders = data;\n    });\n  }\n\n  search() {\n    this.filteredOrders = this.orders.filter((order: any) =>\n      order.customerName.toLowerCase().includes(this.searchTerm.toLowerCase())\n    );\n  }\n\n  addOrder() {\n    this.orderService.addOrder(this.newOrder).subscribe((data: any) => {\n      this.orders.push(data);\n      this.filteredOrders.push(data);\n      this.newOrder = {};\n      $('#addOrderModal').modal('hide');\n    });\n  }\n\n  showAddOrderModal() {\n    $('#addOrderModal').modal('show');\n  }\n\n  showOrderDetailModal(order: any) {\n    this.selectedOrder = order;\n    $('#orderDetailModal').modal('show');\n  }\n\n  showEditOrderModal(order: any) {\n    this.selectedOrder = Object.assign({}, order);\n    $('#editOrderModal').modal('show');\n  }\n\n  updateOrder() {\n    this.orderService.updateOrder(this.selectedOrder).subscribe((data: any) => {\n      const index = this.orders.findIndex((order: any) => order.id === data.id);\n      this.orders[index] = data;\n      this.filteredOrders[index] = data;\n      this.selectedOrder = {};\n      $('#editOrderModal').modal('hide');\n    });\n  }\n\n  deleteOrder(order: any) {\n    if (confirm('Bạn có chắc chắn muốn xóa đơn hàng này?')) {\n      this.orderService.deleteOrder(order.id).subscribe(() => {\n        const index = this.orders.findIndex((o: any) => o.id === order.id);\n        this.orders.splice(index, 1);\n        this.filteredOrders.splice(index, 1);\n      });\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}