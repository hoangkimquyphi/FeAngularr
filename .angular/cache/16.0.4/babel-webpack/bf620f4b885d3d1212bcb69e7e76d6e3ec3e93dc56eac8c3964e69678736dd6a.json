{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet QlspComponent = class QlspComponent {\n  constructor(formBuilder, productService) {\n    this.formBuilder = formBuilder;\n    this.productService = productService;\n    this.cartItems = [];\n    this.createForm();\n    this.products = this.productService.getProducts();\n  }\n  createForm() {\n    this.productForm = this.formBuilder.group({\n      name: ['', Validators.required],\n      description: ['', Validators.required],\n      price: ['', Validators.required],\n      image: ['', Validators.required]\n    });\n  }\n  onSubmit() {\n    const product = {\n      name: this.productForm.value.name,\n      description: this.productForm.value.description,\n      price: this.productForm.value.price,\n      image: this.productForm.value.image\n    };\n    this.productService.addProduct(product);\n    this.products = this.productService.getProducts();\n    this.productForm.reset();\n  }\n  addToCart(product) {\n    const itemIndex = this.cartItems.findIndex(item => item.name === product.name);\n    if (itemIndex === -1) {\n      this.cartItems.push({\n        ...product,\n        quantity: 1\n      });\n    } else {\n      this.cartItems[itemIndex].quantity++;\n    }\n  }\n  removeFromCart(product) {\n    const itemIndex = this.cartItems.findIndex(item => item.name === product.name);\n    if (itemIndex !== -1) {\n      this.cartItems[itemIndex].quantity--;\n      if (this.cartItems[itemIndex].quantity === 0) {\n        this.cartItems.splice(itemIndex, 1);\n      }\n    }\n  }\n  getTotal() {\n    return this.cartItems.reduce((total, item) => total + item.price * item.quantity, 0);\n  }\n};\nQlspComponent = __decorate([Component({\n  selector: 'app-qlsp',\n  templateUrl: './qlsp.component.html',\n  styleUrls: ['./qlsp.component.css']\n})], QlspComponent);\nexport { QlspComponent };","map":{"version":3,"names":["Component","QlspComponent","constructor","formBuilder","productService","cartItems","createForm","products","getProducts","productForm","group","name","Validators","required","description","price","image","onSubmit","product","value","addProduct","reset","addToCart","itemIndex","findIndex","item","push","quantity","removeFromCart","splice","getTotal","reduce","total","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Vinh-PC\\Documents\\angular\\QLDongHo\\my-app\\src\\app\\components\\qlsp\\qlsp.component.ts"],"sourcesContent":["import { Component  } from '@angular/core';\n\n@Component({\n  selector: 'app-qlsp',\n  templateUrl: './qlsp.component.html',\n  styleUrls: ['./qlsp.component.css']\n})\n\nexport class QlspComponent {\n  productForm: FormGroup;\n  products: Product[];\n  cartItems: Product[] = [];\n\n  constructor(private formBuilder: FormBuilder, private productService: ProductService) {\n    this.createForm();\n    this.products = this.productService.getProducts();\n  }\n\n  createForm() {\n    this.productForm = this.formBuilder.group({\n      name: ['', Validators.required],\n      description: ['', Validators.required],\n      price: ['', Validators.required],\n      image: ['', Validators.required]\n    });\n  }\n\n  onSubmit() {\n    const product: Product = {\n      name: this.productForm.value.name,\n      description: this.productForm.value.description,\n      price: this.productForm.value.price,\n      image: this.productForm.value.image\n    };\n    this.productService.addProduct(product);\n    this.products = this.productService.getProducts();\n    this.productForm.reset();\n  }\n\n  addToCart(product: Product) {\n    const itemIndex = this.cartItems.findIndex(item => item.name === product.name);\n    if (itemIndex === -1) {\n      this.cartItems.push({...product, quantity: 1});\n    } else {\n      this.cartItems[itemIndex].quantity++;\n    }\n  }\n\n  removeFromCart(product: Product) {\n    const itemIndex = this.cartItems.findIndex(item => item.name === product.name);\n    if (itemIndex !== -1) {\n      this.cartItems[itemIndex].quantity--;\n      if (this.cartItems[itemIndex].quantity === 0) {\n        this.cartItems.splice(itemIndex, 1);\n      }\n    }\n  }\n\n  getTotal() {\n    return this.cartItems.reduce((total, item) => total + item.price * item.quantity, 0);\n  }\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}